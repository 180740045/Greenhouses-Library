

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Greenhouse &mdash; Greenhouses  documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Greenhouses  documentation" href="index.html"/>
        <link rel="up" title="Components" href="components.html"/>
        <link rel="next" title="HVAC" href="hvac.html"/>
        <link rel="prev" title="Components" href="components.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Greenhouses
          

          
            
            <img src="_static/Greenhouses_logo.jpg" class="logo" />
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="components.html">Components</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Greenhouse</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#general-nomenclature">General nomenclature</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#subscripts">Subscripts</a></li>
<li class="toctree-l4"><a class="reference internal" href="#variables">Variables</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#solar-model">Solar model</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cover">Cover</a></li>
<li class="toctree-l3"><a class="reference internal" href="#canopy">Canopy</a></li>
<li class="toctree-l3"><a class="reference internal" href="#air">Air</a></li>
<li class="toctree-l3"><a class="reference internal" href="#air-top">Air Top</a></li>
<li class="toctree-l3"><a class="reference internal" href="#floor">Floor</a></li>
<li class="toctree-l3"><a class="reference internal" href="#thermal-screen">Thermal screen</a></li>
<li class="toctree-l3"><a class="reference internal" href="#illumination">Illumination</a></li>
<li class="toctree-l3"><a class="reference internal" href="#heating-pipes">Heating pipes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hvac.html">HVAC</a></li>
<li class="toctree-l2"><a class="reference internal" href="cropyield.html">Crop Yield</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="flows.html">Flows</a></li>
<li class="toctree-l1"><a class="reference internal" href="control.html">Control Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Greenhouses</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="components.html">Components</a> &raquo;</li>
      
    <li>Greenhouse</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/greenhouse.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="greenhouse">
<span id="id1"></span><h1>Greenhouse<a class="headerlink" href="#greenhouse" title="Permalink to this headline">¶</a></h1>
<p>The <em>Greenhouse</em> sub-package include models of the different greenhouse elements at which the energy and mass balances are performed to compute all the state variables (temperature, vapor pressure of water and CO<sub>2</sub> concentration) of these elements.
These are the main and top air zones, the canopy, the cover, the floor and the thermal screen. For a given component, the energy balance is done by taking into account all the heat flows that are connected to the heat port (i.e. conduction, convection and/or long-wave radiation), the latent heat of the vapor flows connected to the vapor mass port and the forced short-wave radiation input connected to the short-wave radiation flow connector. The computation of the heat and vapor flows is done in individual models, described in the <a class="reference internal" href="flows.html#flows"><span class="std std-ref">Flows</span></a> section. Since no spatial differences in temperature, vapor pressure of water and CO<sub>2</sub> concentration are considered, all the model flows are described per square meter of greenhouse floor.</p>
<p>Except for the cover model, since the short-wave radiation can origin from two sources (the sun and supplementary  illumination), the short-wave radiation input has the form of a vector. The parameter N<sub>rad</sub> defines the dimension of the vector and depending on whether or not the greenhouse has supplementary lighting, the user can set it to two or one, respectively. The computation of the absorbed short-wave radiation flows is done in the <em>Solar_model</em> and the <em>Illumination</em> model, according to the provenance of the flow.</p>
<p>The <em>Greenhouse</em> sub-package also includes an already-build greenhouse model ready to use.</p>
<div class="section" id="general-nomenclature">
<h2>General nomenclature<a class="headerlink" href="#general-nomenclature" title="Permalink to this headline">¶</a></h2>
<div class="section" id="subscripts">
<h3>Subscripts<a class="headerlink" href="#subscripts" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="83%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Air</td>
<td>Greenhouse main air zone</td>
</tr>
<tr class="row-odd"><td>Can</td>
<td>Canopy</td>
</tr>
<tr class="row-even"><td>cnd</td>
<td>Conduction</td>
</tr>
<tr class="row-odd"><td>cnv</td>
<td>Convection</td>
</tr>
<tr class="row-even"><td>Cov</td>
<td>Cover</td>
</tr>
<tr class="row-odd"><td>Ext</td>
<td>External source of CO<sub>2</sub></td>
</tr>
<tr class="row-even"><td>Flr</td>
<td>Floor</td>
</tr>
<tr class="row-odd"><td>Glob</td>
<td>Global radiation</td>
</tr>
<tr class="row-even"><td>Ilu</td>
<td>Supplementary lighting</td>
</tr>
<tr class="row-odd"><td>lat</td>
<td>Latent heat</td>
</tr>
<tr class="row-even"><td>Out</td>
<td>Outside air</td>
</tr>
<tr class="row-odd"><td>Pipe</td>
<td>Pipe heating system</td>
</tr>
<tr class="row-even"><td>rad</td>
<td>Long-wave infrared radiation</td>
</tr>
<tr class="row-odd"><td>Scr</td>
<td>Thermal screen</td>
</tr>
<tr class="row-even"><td>So(j)</td>
<td>The j<sup>th</sup> soil layer</td>
</tr>
<tr class="row-odd"><td>Top</td>
<td>Greenhouse top air zone</td>
</tr>
<tr class="row-even"><td>v</td>
<td>Vapor</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="variables">
<h3>Variables<a class="headerlink" href="#variables" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="16%" />
<col width="56%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Units</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><span class="math notranslate nohighlight">\(\alpha\)</span></td>
<td>–</td>
<td>Absorption coefficient</td>
</tr>
<tr class="row-odd"><td><span class="math notranslate nohighlight">\(\rho\)</span></td>
<td>kg m⁻³, –</td>
<td>Density or reflection coefficient</td>
</tr>
<tr class="row-even"><td><span class="math notranslate nohighlight">\(\tau\)</span></td>
<td>–</td>
<td>Transmission coefficient</td>
</tr>
<tr class="row-odd"><td><span class="math notranslate nohighlight">\(\phi\)</span></td>
<td>º</td>
<td>Inclination of the greenhouse cover</td>
</tr>
<tr class="row-even"><td>c<sub>p</sub></td>
<td>J kg⁻¹ K⁻¹</td>
<td>Specific heat capacity</td>
</tr>
<tr class="row-odd"><td>LAI</td>
<td>m²{leaf} m⁻²{floor}</td>
<td>Ratio of leaf area over greenhouse floor area</td>
</tr>
<tr class="row-even"><td>h</td>
<td>m</td>
<td>Thickness or vertical dimension</td>
</tr>
<tr class="row-odd"><td><span class="math notranslate nohighlight">\(\dot{m}\)</span></td>
<td>kg m⁻² s⁻¹</td>
<td>Mass flow rate averaged per square meter of greenhouse floor</td>
</tr>
<tr class="row-even"><td><span class="math notranslate nohighlight">\(\dot{q}\)</span></td>
<td>W m⁻²</td>
<td>Heat flow averaged per square meter of greenhouse floor</td>
</tr>
<tr class="row-odd"><td>T</td>
<td>K</td>
<td>Temperature</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="solar-model">
<h2>Solar model<a class="headerlink" href="#solar-model" title="Permalink to this headline">¶</a></h2>
<p>The solar radiation incident in a greenhouse can be split in three spectral parts: ultra violet
(UV, from 0.3 to 0.4 μm), visible light (from 0.4 to 0.7 μm) and near infrared light (NIR,
from 0.7 to 3 μm). The visible light has an interest for biological growth and is referred as
photosynthetically active radiation (PAR) in greenhouse modeling. The fraction of UV is 6-
10% and of PAR is 45-60% of the global radiation <a class="reference internal" href="index.html#coulson-solar-1975" id="id2">[Cou75]</a>. However, for plant
growth it is common to assign 50% to PAR, neglect the UV and assign the other 50% to NIR
<a class="reference internal" href="index.html#de-zwart-analyzing-1996" id="id3">[DZ96]</a>. Besides the spectral division, the solar radiation can be divided in direct
and diffuse radiation. The solar model of this work is simplified
by making no distinction between diffuse and direct solar radiation and by assuming that the
transmission coefficient of the greenhouse cover does not depend on the solar angle.</p>
<p>This model computes the short-wave radiation originated from the sun absorbed by the different components of a greenhouse. To that end, the optical properties of the greenhouse components must be known. Therefore, the main parameters of the model are:</p>
<ul class="simple">
<li>The floor reflection coefficients for PAR and NIR (<span class="math notranslate nohighlight">\(\rho_{Flr,PAR}\)</span>, <span class="math notranslate nohighlight">\(\rho_{Flr,NIR}\)</span>)</li>
<li>The cover transmission and reflection coefficients for PAR and NIR (<span class="math notranslate nohighlight">\(\rho_{Cov,PAR}\)</span>, <span class="math notranslate nohighlight">\(\rho_{Cov,NIR}\)</span>, <span class="math notranslate nohighlight">\(\tau_{Cov,PAR}\)</span>, <span class="math notranslate nohighlight">\(\tau_{Cov,NIR}\)</span>)</li>
<li>The screen transmission and reflection coefficients for PAR and NIR (<span class="math notranslate nohighlight">\(\rho_{Scr,PAR}\)</span>, <span class="math notranslate nohighlight">\(\rho_{Scr,NIR}\)</span>, <span class="math notranslate nohighlight">\(\tau_{Scr,PAR}\)</span>, <span class="math notranslate nohighlight">\(\tau_{Scr,NIR}\)</span>)</li>
<li>The canopy reflection coefficients for PAR and NIR (<span class="math notranslate nohighlight">\(\rho_{Can,PAR}\)</span>, <span class="math notranslate nohighlight">\(\rho_{Can,NIR}\)</span>)</li>
<li>The canopy extinction coefficient for PAR and NIR (<span class="math notranslate nohighlight">\(K_{Can,PAR}\)</span>, <span class="math notranslate nohighlight">\(K_{Can,NIR}\)</span>)</li>
</ul>
<p>The user can adapt the parameters to the characteristics of the modeled greenhouse. Default values of the parameters are given for tomato crop, single-glass cover, concrete floor and aluminised screen.</p>
<p>The radiation from the sun is partially absorbed by the cover and partially transmitted inside
the greenhouse. The global radiation partially absorbed by the cover is described by:</p>
<div class="math notranslate nohighlight">
\[\dot{q}_{SunCov} = (\alpha_{Cov,PAR} \cdot \eta_{Glob,PAR} + \alpha_{Cov,NIR} \cdot \eta_{Glob,NIR})\cdot I_{Glob}\]</div>
<p>where <span class="math notranslate nohighlight">\(\alpha\)</span><sub>Cov,PAR</sub> and <span class="math notranslate nohighlight">\(\alpha\)</span><sub>Cov,NIR</sub> are the absorption coefficients for photosynthetically active radiation (PAR) and near-infrarred radiation (NIR) of the
cover, and <span class="math notranslate nohighlight">\(\eta\)</span><sub>Glob,PAR</sub> and <span class="math notranslate nohighlight">\(\eta\)</span><sub>Glob,NIR</sub> are the ratio of PAR and NIR of the global radiation.</p>
<p>The radiation that is not reflected or absorbed by the cover, is transmitted inside the greenhouse. The transmitted PAR, i.e. the PAR above the canopy, can be defined by:</p>
<div class="math notranslate nohighlight">
\[\dot{q}_{PAR,\tau} = (1-\eta_{Glob,Air})\cdot \tau_{Cov,PAR} \cdot \eta_{Glob,PAR} \cdot I_{Glob}\]</div>
<p>where <span class="math notranslate nohighlight">\(\eta\)</span><sub>Glob,Air</sub> is the ratio of the radiation that is absorbed by the greenhouse elements and is later released to the air as long-wave radiation. When the thermal screen is drawn, it influences the transmission, reflection and absorption coefficients of the greenhouse. Thus, <span class="math notranslate nohighlight">\(\tau\)</span><sub>Cov,PAR</sub> is the coefficient of a lumped transmission of the greenhouse cover and the movable thermal screen.</p>
<p>The PAR absorbed by the canopy is the sum of the PAR transmitted by the cover and directly absorbed by the canopy (<span class="math notranslate nohighlight">\(\dot{q}_{PAR,SunCan↓}\)</span>) and the PAR reflected by the greenhouse floor and then absorbed by the canopy (<span class="math notranslate nohighlight">\(\dot{q}_{PAR,FlrCan↑}\)</span>):</p>
<div class="math notranslate nohighlight">
\[\dot{q}_{PAR,SunCan} = \dot{q}_{PAR,SunCan↓} + \dot{q}_{PAR,FlrCan↑}\]</div>
<p>According to <a class="reference internal" href="index.html#ross-radiative-1975" id="id4">[Ros75]</a>, <span class="math notranslate nohighlight">\(\dot{q}_{PAR,SunCan}\)</span> in a homogenous crop is described by an exponential decomposition of light with the LAI:</p>
<div class="math notranslate nohighlight">
\[\dot{q}_{PAR,SunCan↓} = \dot{q}_{PAR,\tau} \cdot (1-\rho_{Can,PAR}) \cdot \left( 1-e^{-K_{PAR} \cdot LAI}\right)\]</div>
<p>The LAI, computed in the crop yield model, is an input of the solar model.
In a similar way:</p>
<div class="math notranslate nohighlight">
\[\dot{q}_{PAR,FlrCan↑} = \dot{q}_{PAR,\tau} \cdot e^{-K_{PAR} \cdot LAI}  \cdot \rho_{Flr,PAR} \cdot (1-\rho_{Can,PAR}) \cdot \left( 1-e^{-K_{PAR} \cdot LAI}\right)\]</div>
<p>The PAR absorbed by the greenhouse floor is described by:</p>
<div class="math notranslate nohighlight">
\[\dot{q}_{PAR,SunFlr} = \dot{q}_{PAR,\tau} \cdot (1-\rho_{Flr,PAR}) \cdot \left( 1-e^{-K_{PAR} \cdot LAI}\right)\]</div>
<p>The reflections coefficients of the canopy and floor are higher for NIR than for PAR. Thus, a larger amount of NIR is reflected by the canopy and the floor back into the greenhouse, which can be reflected again by the greenhouse cover. This leads to a considerable scattering of NIR in the greenhouse. The NIR absorbed by the canopy and the floor is thus determined by considering the lumped cover, the canopy and the floor as a multiple layer model <a class="reference internal" href="index.html#vanthoor-methodology-2011-greenhouse" id="id5">[VSvHdV11]</a>. To that end, virtual transmission coefficients of the lumped cover and floor are applied. The tranmission and reflection coefficients of the canopy, which depend on the LAI, are also determined using the following relationship:</p>
<div class="math notranslate nohighlight">
\[\widehat{\tau}_{Can,NIR} = e^{-K_{NIR} LAI}\]</div>
<p>Afterwards, the NIR transmission, reflection and absorption coefficients of the multiple-layers are determined by using the NIR transmission and reflection coefficients of the individual layers in the multiple-layer model. Finally, the calculated absorption coefficient of the multiple-layers equals the overall NIR absorption coefficient of the canopy (<span class="math notranslate nohighlight">\(\alpha_{Can,NIR}\)</span>), and the calculated transmission coefficient of the multiple-layers equals the overall NIR absorption coefficient of the floor (<span class="math notranslate nohighlight">\(\alpha_{Flr,NIR}\)</span>). The NIR absorbed by the canopy and the floor is described by:</p>
<div class="math notranslate nohighlight">
\[\dot{q}_{NIR,SunCan} = \alpha_{Can,NIR} \cdot (1-\eta_{Glob,Air}) \cdot \eta_{Glob,NIR} \cdot I_{Glob}\]</div>
<div class="math notranslate nohighlight">
\[\dot{q}_{NIR,SunFlr} = \alpha_{Flr,NIR} \cdot (1-\eta_{Glob,Air}) \cdot \eta_{Glob,NIR} \cdot I_{Glob}\]</div>
<p>Part of the radiation transmitted in the greenhouse (that is not absorbed by the canopy or the floor) is absorbed by the greenhouse construction elements and later released as long-wave radiation to the greenhouse air:</p>
<div class="math notranslate nohighlight">
\[\dot{q}_{SunAir} = \eta_{Glob,Air} \cdot I_{Glob} \cdot (\tau_{Cov,PAR} \cdot \eta_{Glob,PAR} +(\alpha_{Can,NIR}+\alpha_{Flr,NIR}) \cdot \eta_{Glob,NIR})\]</div>
<p>As shown in the figure below, the solar model has one input connector, for the global irradiation, and four output connectors, whose output values are equal to the absorbed global radiation by (from top to bottom):</p>
<ul class="simple">
<li>The cover (<span class="math notranslate nohighlight">\(\dot{q}_{SunCov}\)</span>)</li>
<li>The air (<span class="math notranslate nohighlight">\(\dot{q}_{SunAir}\)</span>)</li>
<li>The canopy (<span class="math notranslate nohighlight">\(\dot{q}_{SunCan}=\dot{q}_{PAR,SunCan}+\dot{q}_{NIR,SunCan}\)</span>)</li>
<li>The floor (<span class="math notranslate nohighlight">\(\dot{q}_{SunFlr}=\dot{q}_{PAR,SunFlr}+\dot{q}_{NIR,SunFlr}\)</span>)</li>
</ul>
<p>Each output connector must be connected to the short-wave input connector of its corresponding component. The model outputs the radiation values in Wm⁻². However, the PAR absorbed values are also available in the model in μmol{photons}m⁻²s⁻¹, for which a conversion factor from global radiation to PAR equal to 2.3 μmol{photons} J⁻¹ is used.</p>
<div class="align-center figure">
<img alt="_images/solarmodel.png" src="_images/solarmodel.png" />
</div>
</div>
<div class="section" id="cover">
<h2>Cover<a class="headerlink" href="#cover" title="Permalink to this headline">¶</a></h2>
<p>This model computes the energy balance on the cover. Because the properties of the cover are parameters of the model, the user has the possibility to adapt the model for any type of cover (single-glass, double-glass, plastic, etc.). The main parameters of the model are:</p>
<ul class="simple">
<li><span class="math notranslate nohighlight">\(\rho\)</span><sub>Cov</sub>: the cover density</li>
<li>c<sub>p,Cov</sub> : the cover specific heat capacity</li>
<li>h<sub>Cov</sub>: the cover thickness</li>
<li><span class="math notranslate nohighlight">\(\phi\)</span>: the cover inclination (angle with the horizontal)</li>
</ul>
<p>At the cover, many exhanges occur. Sensible heat caused by convection is mainly exhanged with the air (top air zone when the screen is drawn, main air zone in the absence of a thermal screen) and the outside air. Latent flows caused by condensation may appear in the inner side of the cover. Long-wave radiation is exchanged with the heating pipes, the canopy, the floor, the thermal screen and the sky. Moreover, the cover absorbs part of the incident solar irradiation. The energy balance on the cover is therefore described by:</p>
<div class="math notranslate nohighlight">
\[\rho_{Cov} c_{p,Cov} \dfrac{h_{Cov}}{cos \phi} \dot{T}_{Cov} = \dot{q}_{SunCov} + \dot{q}_{cnv,TopCov} + \dot{q}_{lat,TopCov} + \dot{q}_{cnv,AirCov} + \dot{q}_{lat,AirCov} + \dot{q}_{rad,PipeCov} + \dot{q}_{rad,CanCov} + \dot{q}_{rad,FlrCov} + \dot{q}_{rad,ScrCov} - \dot{q}_{cnv,CovOut} - \dot{q}_{rad,CovSky}\]</div>
<p>The vapor pressure of water at the cover is defined by the saturated vapor pressure for its temperature.</p>
<div class="align-center figure">
<img alt="_images/cover.png" src="_images/cover.png" />
</div>
</div>
<div class="section" id="canopy">
<h2>Canopy<a class="headerlink" href="#canopy" title="Permalink to this headline">¶</a></h2>
<p>This model computes the energy balance on the canopy. The main parameter of the model is the heat capacity of a square meter of canopy leaves (c<sub>Leaf</sub>), which was estimated at 1200 J K⁻¹ m⁻² <a class="reference internal" href="index.html#stanghellini-transpiration-1987" id="id6">[Sta87]</a>. The leaf area index (LAI), computed in the crop yield model, is an input of the model.</p>
<p>The canopy exchanges long-wave radiation with the heating pipes, the cover, the floor and the thermal screen. Also, it exchanges sensible and latent heat with the main air zone. As computed in the solar model, part of the transmitted radiation is absorbed by the canopy. The energy balance is described by:</p>
<div class="math notranslate nohighlight">
\[LAI c_{Leaf} \dot{T}_{Can} = \dot{q}_{SunCan} + \dot{q}_{IluCan} + \dot{q}_{rad,PipeCan} - \dot{q}_{cnv,CanAir} - \dot{q}_{lat,CanAir} - \dot{q}_{rad,CanCov} - \dot{q}_{rad,CanFlr} + \dot{q}_{rad,CanScr}\]</div>
<div class="align-center figure">
<img alt="_images/canopy.png" src="_images/canopy.png" />
</div>
</div>
<div class="section" id="air">
<h2>Air<a class="headerlink" href="#air" title="Permalink to this headline">¶</a></h2>
<p>This model computes the energy and vapor mass balance on the air of the main zone of the greenhouse. The main parameters of the model are:</p>
<ul class="simple">
<li><span class="math notranslate nohighlight">\(\rho\)</span><sub>Air</sub>: the air density</li>
<li>c<sub>p,Air</sub> : the air specific heat capacity</li>
<li>h<sub>Air</sub>: the height of the main air zone (i.e. height of the thermal screen when this is drawn, mean height of the greenhouse when the screen is open)</li>
</ul>
<p>Sensible heat is exchanged between the air and the heating pipes, the floor, the canopy, the cover, the thermal screen, the top air zone and the outdoor air. The exchange between the two air zones through the thermal screen occurs because of the porosity material, nature of the latter. The exchange with the outside air accounts for infiltration/exfiltration and natural ventilation through the greenhouse windows. The energy balance on the air of the main zone is dscribed by:</p>
<div class="math notranslate nohighlight">
\[\rho_{Air} c_{p,Air} h_{Air} \dot{T}_{Air} = \dot{q}_{SunAir} + \dot{q}_{IluAir} + \dot{q}_{cnv,PipeAir} + \dot{q}_{cnv,CanAir} - \dot{q}_{cnv,AirFlr} - \dot{q}_{cnv,AirCov} - \dot{q}_{cnv,AirScr} - \dot{q}_{cnv,AirTop} - \dot{q}_{cnv,AirOut}\]</div>
<p>The main air zone exchanges air through ventilation processes with the top air compartment and the outside air. The transpiration process of the canopy increases the vapor content of the air. Given the conditions, condensation may occur at the cover and the thermal screen. The vapor pressure of water in the air, defined by the mass balance on the air, is therefore described by:</p>
<div class="math notranslate nohighlight">
\[M_H \dfrac{h_{Air}}{RT} \dot{P}_{v,Air} = \dot{m}_{v,CanAir} - \dot{m}_{v,AirCov} - \dot{m}_{v,AirScr} - \dot{m}_{v,AirTop} - \dot{m}_{v,AirOut}\]</div>
<p>where M<sub>H</sub> is the molar mass of vapor. Although the vapor capacity is a function of temperature (T), this model applies a constant capacity, holding for a temperature of 291 K.</p>
<div class="align-center figure">
<img alt="_images/air.png" src="_images/air.png" />
</div>
</div>
<div class="section" id="air-top">
<h2>Air Top<a class="headerlink" href="#air-top" title="Permalink to this headline">¶</a></h2>
<p>This model is a simplified version of the air model designed for the top air zone in which the heat inputs from short-wave radiation are neglected. This is because the top zone is modeled when the screen is drawn (i.e. mostly at night) and because the supplementary lighting lamps are installed below the thermal screen (i.e. below the zone). The model has the same parameters than the <em>Air</em> model, considering that the height of the top air zone is equal to the mean greenhouse height minus the height of the thermal screen.</p>
<div class="align-center figure">
<img alt="_images/airtop.png" src="_images/airtop.png" />
</div>
</div>
<div class="section" id="floor">
<h2>Floor<a class="headerlink" href="#floor" title="Permalink to this headline">¶</a></h2>
<p>This model computes the energy balance on the floor. The main parameters of the model are:</p>
<ul class="simple">
<li><span class="math notranslate nohighlight">\(\rho\)</span><sub>Flr</sub>: the floor density</li>
<li>c<sub>p,Flr</sub> : the floor specific heat capacity</li>
<li>h<sub>Flr</sub>: the thickness of the floor</li>
</ul>
<p>The model can thus be applied to a wide range of floor materials (e.g. soil, concrete). Long-wave radiation is exchanged between the floor and the heating pipes, the canopy, the thermal screen and the cover. Sensible heat is exchanged with the air by convection and with the first soil layer by conduction. Therefore, the energy balance on the floor is described by:</p>
<div class="math notranslate nohighlight">
\[\rho_{Flr} c_{p,Flr} h_{Flr} \dot{T}_{Flr} = \dot{q}_{SunFlr} + \dot{q}_{IluFlr} + \dot{q}_{cnv,AirFlr} + \dot{q}_{rad,PipeFlr} + \dot{q}_{rad,CanFlr} - \dot{q}_{cnd,FlrSo1} - \dot{q}_{rad,FlrScr} - \dot{q}_{rad,FlrCov}\]</div>
<div class="align-center figure">
<img alt="_images/floor.png" src="_images/floor.png" />
</div>
</div>
<div class="section" id="thermal-screen">
<h2>Thermal screen<a class="headerlink" href="#thermal-screen" title="Permalink to this headline">¶</a></h2>
<p>This model computes the energy balance on the thermal screen. The main parameters of the model are:</p>
<ul class="simple">
<li><span class="math notranslate nohighlight">\(\rho\)</span><sub>Scr</sub>: the screen density</li>
<li>c<sub>p,Scr</sub> : the screen specific heat capacity</li>
<li>h<sub>Scr</sub>: the thickness of the screen</li>
<li><span class="math notranslate nohighlight">\(\tau\)</span><sub>FIR</sub>: long-wave radiation transmission coefficient of the screen</li>
</ul>
<p>The main input of the model is the screen closure (u<sub>SC</sub>)</p>
<p>Long-wave radiation is exchanged with the heating pipes, the canopy, the floor and the cover. Sensible heat is exchanged with the air. Latent heat flows may be present if condensation beneath the screen or evaporation above the screen occurs. The energy balance on the screen is therefore described by:</p>
<div class="math notranslate nohighlight">
\[\rho_{Scr} c_{p,Scr} h_{Scr} \dot{T}_{Scr} = \dot{q}_{rad,PipeScr} + \dot{q}_{rad,CanScr} + \dot{q}_{rad,FlrScr} + \dot{q}_{cnv,AirScr} + \dot{q}_{lat,AirScr} - \dot{q}_{cnv,ScrTop} - \dot{q}_{lat,ScrTop} - \dot{q}_{rad,ScrCov}\]</div>
<p>The present model assumes that the thermal screen is capable of transporting water from the lower side to the upper side through the fabric. However, the storage of moisture in the screen is neglected. This implies that the vapor that condensates at the screen is either evaporated at the upper side of drips from the screen. Therefore, the rate of evaporation is lower or equal to the rate of condensation.</p>
<div class="align-center figure">
<img alt="_images/thermalscreen.png" src="_images/thermalscreen.png" />
</div>
</div>
<div class="section" id="illumination">
<h2>Illumination<a class="headerlink" href="#illumination" title="Permalink to this headline">¶</a></h2>
<p>Although the contrbution of supplementary lighting is very small during summer, in winter it can double the sun input through a day and thus, have an important impact on crop growth. This model computes the short-wave radiation originated from supplementary lighting absorbed by the different components of a greenhouse (i.e. canopy, floor and air). The main parameters of the model are:</p>
<ul class="simple">
<li>The installed electrical capacity per square meter of greenhouse floor</li>
<li>The floor reflection coefficients for PAR and NIR (<span class="math notranslate nohighlight">\(\rho_{Flr,PAR}\)</span>, <span class="math notranslate nohighlight">\(\rho_{Flr,NIR}\)</span>)</li>
<li>The canopy reflection coefficients for PAR and NIR (<span class="math notranslate nohighlight">\(\rho_{Can,PAR}\)</span>, <span class="math notranslate nohighlight">\(\rho_{Can,NIR}\)</span>)</li>
<li>The canopy extinction coefficient for PAR and NIR (<span class="math notranslate nohighlight">\(K_{Can,PAR}\)</span>, <span class="math notranslate nohighlight">\(K_{Can,NIR}\)</span>)</li>
</ul>
<p>Only part of the electric consumption of the supplementary lighting is converted to short-wave radiation. This model is based on high pressure sodium (HPS) lamps, which are a type of high intensity discharge lamps. For HPS, it is common that 17% of the electrical power is converted to NIR and 25% to visible light <a class="reference internal" href="index.html#urban-production-2010" id="id7">[UU10]</a>. Thus, the fraction of radiation absorbed by the greenhouse elements and later released to the air in the form of long-wave radiation is assumed to be 58%.</p>
<p>The PAR and NIR absorbed by the canopy and the floor are computed similarly than in the <em>Solar model</em>. As shown in the figure below, the <em>illumination</em> model has one input connector, for the ON-OFF control of the lamps, and three output connectors, whose output values are equal to the absorbed global radiation by (from left to right):</p>
<ul class="simple">
<li>The floor (<span class="math notranslate nohighlight">\(\dot{q}_{IluFlr}=\dot{q}_{PAR,IluFlr}+\dot{q}_{NIR,IluFlr}\)</span>)</li>
<li>The canopy (<span class="math notranslate nohighlight">\(\dot{q}_{IluCan}=\dot{q}_{PAR,IluCan}+\dot{q}_{NIR,IluCan}\)</span>)</li>
<li>The air (<span class="math notranslate nohighlight">\(\dot{q}_{IluAir}\)</span>)</li>
</ul>
<p>Each output connector must be connected to the short-wave input connector of its corresponding component.  The model outputs the radiation values in Wm⁻². However, the PAR absorbed values are also available in the model in μmol{photons}m⁻²s⁻¹, for which a conversion factor from global radiation to PAR equal to 1.8 μmol{photons} J⁻¹, characteristic of HPS lamps, is used.</p>
<div class="align-center figure">
<img alt="_images/illumination.png" src="_images/illumination.png" />
</div>
</div>
<div class="section" id="heating-pipes">
<h2>Heating pipes<a class="headerlink" href="#heating-pipes" title="Permalink to this headline">¶</a></h2>
<p>The fluid in the heating pipes from the greenhouse heating ciruit is modeled by means of the discretized model for incompressible flow explained in the <a class="reference internal" href="flows.html#flows"><span class="std std-ref">Flows</span></a> section, in which a
dynamic energy balance and static mass and momentum balances are applied on the fluid cells. Heat is transferred by long-wave radiation to the canopy, floor and cover, and by convection to the air. Since the resistance to heat transport to the air from the outer pipe surface is about 100 times greater than the resistance from the inner surface to the outer one <a class="reference internal" href="index.html#de-zwart-analyzing-1996" id="id8">[DZ96]</a>, it can be assumed that the temperature of the pipe surface is equal to the water temperature. The heat flow from the fluid to the air is thus computed by an ideal heat transfer model with constant heat transfer coefficient.</p>
<p>Greenhouse heating circuits are commonly made of several parallel heating loops. The main parameters of the model are:</p>
<ul class="simple">
<li>The pipes diameter (<span class="math notranslate nohighlight">\(d\)</span>)</li>
<li>The installed length per loop (<span class="math notranslate nohighlight">\(l\)</span>)</li>
<li>The ground floor area (<span class="math notranslate nohighlight">\(A\)</span>)</li>
<li>The number of parallel loops (<span class="math notranslate nohighlight">\(N_p\)</span>)</li>
<li>The number of nodes in which a loop is discretized (<span class="math notranslate nohighlight">\(N\)</span>)</li>
<li>The nominal mass flow rate (<span class="math notranslate nohighlight">\(\dot{M}_{nom}\)</span>)</li>
</ul>
<div class="align-center figure">
<img alt="_images/heatingpipe.png" src="_images/heatingpipe.png" />
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="hvac.html" class="btn btn-neutral float-right" title="HVAC" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="components.html" class="btn btn-neutral" title="Components" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Queralt Altes-Buch.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>